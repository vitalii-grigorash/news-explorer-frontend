(this["webpackJsonpnews-explorer-frontend"]=this["webpackJsonpnews-explorer-frontend"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logout-icon-white.3c57fa38.svg"},function(e,t,a){e.exports=a.p+"static/media/mobile-button-close.b4d99d68.svg"},,,,,function(e,t,a){e.exports=a.p+"static/media/no-result.175a96ce.svg"},function(e,t,a){e.exports=a.p+"static/media/my-photo.911cdaa3.jpg"},function(e,t,a){e.exports=a.p+"static/media/main-background.68e687e3.jpg"},function(e,t,a){e.exports=a.p+"static/media/logout-icon-black.a9113294.svg"},function(e,t,a){e.exports=a.p+"static/media/burger-menu-button.584262ec.svg"},function(e,t,a){e.exports=a.p+"static/media/burger-menu-button-black.71673db7.svg"},function(e,t,a){e.exports=a.p+"static/media/github-icon.a432c326.svg"},function(e,t,a){e.exports=a.p+"static/media/facebook-icon.4b12ed39.svg"},,function(e,t,a){e.exports=a(42)},,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(20),c=a.n(r),i=a(4),s=a(12),l=a(1),u=a(2),m=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),c=Object(l.a)(r,2),i=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(l.a)(u,2),p=m[0],d=m[1],h=Object(n.useCallback)((function(e){o(e.target.value),s(e.target.validationMessage),d(e.target.validity.valid)}),[]);return{value:a,errorMessage:i,setErrorMessage:s,isValid:p,onChange:h}};var p=function(e){var t=e.searchForm,a=m();return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),a.value?t(a.value):a.setErrorMessage("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e")}},o.a.createElement("input",{type:"text",className:"search-form__input",id:"search-form-input",name:"search",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",value:a.value,onChange:a.onChange}),o.a.createElement("span",{id:"search-form-input-error",className:"search-form__input_error"},a.errorMessage),o.a.createElement("button",{type:"submit",className:"search-form__search-button"},"\u0418\u0441\u043a\u0430\u0442\u044c")))};var d=function(e){var t=e.newsCard,a=e.savedCard,n=e.loggedIn,r=e.onAddCard,c=e.onRemoveCard,i=e.onAuthClick,s=e.searchKeyword,l=Object(u.h)().pathname,m="".concat("/"===l?"\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438":"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445"),p=new Date("/"===l&&t.publishedAt),d=p.toLocaleString("ru",{month:"long",day:"numeric"})+", "+p.getFullYear(),h="/"===l&&a&&a.find((function(e){return e.title===t.title}));return o.a.createElement("div",{className:"news-card__container"},o.a.createElement("img",{className:"news-card__image",alt:"/"===l?t.title:a.title,src:"/"===l?t.urlToImage:a.image}),"/"!==l&&o.a.createElement("div",{className:"news-card__keyword-container"},o.a.createElement("p",{className:"news-card__keyword"},a.keyword)),o.a.createElement("div",{className:"/"===l?"news-card__button-container news-card__button-container_main":"news-card__button-container news-card__button-container_saved-news"},o.a.createElement("div",{className:"news-card__button-info-container"},n&&"/"===l&&h?o.a.createElement("p",{className:"news-card__button-info"},"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445"):n&&"/"===l?"":o.a.createElement("p",{className:"news-card__button-info"},m)),o.a.createElement("button",{className:n&&"/"===l&&h?"news-card__button news-card__button_saved":"/"===l?"news-card__button news-card__button_add":"news-card__button news-card__button_trash",onClick:n?"/"===l?function(){r({keyword:s,title:t.title,text:t.description,date:d,source:t.source.name,link:t.url,image:t.urlToImage})}:function(){c(a)}:i})),o.a.createElement("div",{className:"news-card__info"},o.a.createElement("p",{className:"news-card__date"},"/"===l?d:a.date),o.a.createElement("p",{className:"news-card__heading"},"/"===l?t.title:a.title),o.a.createElement("p",{className:"news-card__description"},"/"===l?t.description:a.text)),o.a.createElement("a",{href:"/"===l?t.url:a.link,className:"news-card__sourse",target:"_blank",rel:"noopener noreferrer"},"/"===l?t.source.name:a.source))};var h=function(){return o.a.createElement("section",{className:"preloader"},o.a.createElement("div",{className:"preloader__container"},o.a.createElement("i",{className:"preloader__circle-preloader"})),o.a.createElement("p",{className:"preloader__search-text"},"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439..."))},g=a(22),_=a.n(g);var f=function(e){var t=e.searchError,a="".concat(t?"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437":"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e");return o.a.createElement("section",{className:"no-result"},o.a.createElement("img",{className:"no-result__image",src:_.a,alt:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),o.a.createElement("h3",{className:"no-result__heading"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),o.a.createElement("p",{className:"no-result__description"},a))};var w=function(e){var t=e.show,a=e.news,n=e.isLoading,r=e.isNoResult,c=e.onShowMore,i=e.loggedIn,s=e.onAddCard,l=e.onRemoveCard,m=e.onAuthClick,p=e.isNewsCard,g=e.cards,_=e.searchKeyword,w=e.isMoreNews,E=e.searchError,b=Object(u.h)().pathname;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement("div",{className:"news-card-list"},n?o.a.createElement(h,null):o.a.createElement(o.a.Fragment,null,r||E?o.a.createElement(f,{searchError:E}):o.a.createElement(o.a.Fragment,null,"/"===b&&o.a.createElement("h2",{className:"news-card-list__header"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"),o.a.createElement("div",{className:"news-card-list__container"},p?o.a.createElement(o.a.Fragment,null,a.map((function(e,t){return o.a.createElement(d,{newsCard:e,key:t,loggedIn:i,onAddCard:s,onRemoveCard:l,onAuthClick:m,searchKeyword:_,savedCard:g})}))):o.a.createElement(o.a.Fragment,null,g.map((function(e,t){return o.a.createElement(d,{savedCard:e,key:t,loggedIn:i,onAddCard:s,onRemoveCard:l,onAuthClick:m})})))),"/"===b&&!0===w&&o.a.createElement("button",{className:"news-card-list__show-button",onClick:c},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435")))))},E=a(23),b=a.n(E);var v=function(){return o.a.createElement("div",{className:"about"},o.a.createElement("img",{className:"about__photo",src:b.a,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0430\u0432\u0442\u043e\u0440\u0430"}),o.a.createElement("div",{className:"about__container"},o.a.createElement("h2",{className:"about__heading"},"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"),o.a.createElement("p",{className:"about__description"},"\u042d\u0442\u043e \u0431\u043b\u043e\u043a \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0430\u0432\u0442\u043e\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u0417\u0434\u0435\u0441\u044c \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a \u0432\u0430\u0441 \u0437\u043e\u0432\u0443\u0442, \u0447\u0435\u043c \u0432\u044b \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0435\u0441\u044c, \u043a\u0430\u043a\u0438\u043c\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u043c\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u043b\u0430\u0434\u0435\u0435\u0442\u0435."),o.a.createElement("p",{className:"about__description"},"\u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0432 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0435, \u0447\u0435\u043c\u0443 \u0432\u044b \u0442\u0443\u0442 \u043d\u0430\u0443\u0447\u0438\u043b\u0438\u0441\u044c, \u0438 \u0447\u0435\u043c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043c\u043e\u0447\u044c \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430\u043c.")))},N=a(24),C=a.n(N);var k=function(e){var t=e.show,a=e.onSearchForm,n=e.news,r=e.card,c=e.onShowMore,i=e.currentRow,s=e.isLoading,l=e.isNoResult,m=e.loggedIn,d=e.onAddCard,h=e.onRemoveCard,g=e.onAuthClick,_=e.searchKeyword,f=e.searchError,E=Object(u.h)().pathname,b="".concat("/"===E&&"main__background"),N=n.slice(0,3*(i+1)),k=N.length!==n.length;return o.a.createElement("main",{className:"main"},o.a.createElement("img",{className:b,src:C.a,alt:"\u0424\u043e\u043d\u043e\u0432\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),o.a.createElement("section",{className:"search"},o.a.createElement("h1",{className:"search__heading"},"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432 \u043c\u0438\u0440\u0435?"),o.a.createElement("p",{className:"search__description"},"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435."),o.a.createElement(p,{searchForm:a})),o.a.createElement(w,{isNewsCard:!0,isLoading:s,news:N,cards:r,show:t,onShowMore:c,isNoResult:l,loggedIn:m,onAddCard:d,onRemoveCard:h,onAuthClick:g,searchKeyword:_,isMoreNews:k,searchError:f}),o.a.createElement(v,null))},O=o.a.createContext();var j=function(e){var t,a=e.card,n=e.loggedIn,r=o.a.useContext(O),c=n?a.map((function(e){return e.keyword})):[],i=Object(s.a)(new Set(c)).map((function(e){var t={};return t.keyword=e,t.quantity=c.filter((function(t){return t===e})).length,t})).sort((function(e,t){return t.quantity-e.quantity})).map((function(e){return e.keyword})),l=i.length<=3?i.join(", "):"".concat(i.slice(0,3).join(", ")," \u0438 ").concat(i.slice(3).length,"-").concat((t=i,["\u043c\u0443","\u043c","\u0438"][t.slice(3).length%10===1&&t.slice(3).length%100!==11?0:t.slice(3).length%10>=2&&t.slice(3).length%10<=4&&(t.slice(3).length%100<10||t.slice(3).length%100>=20)?1:2])," ").concat(function(e){return["\u0434\u0440\u0443\u0433\u043e\u043c\u0443","\u0434\u0440\u0443\u0433\u0438\u043c"][e.slice(3).length%10===1&&e.slice(3).length%100!==11?0:1]}(i));return o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"saved-news-header"},o.a.createElement("p",{className:"saved-news-header__heading"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),o.a.createElement("h3",{className:"saved-news-header__count"},r.name,", \u0443 \u0432\u0430\u0441 ",a.length," \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044bx ",function(e){return["\u0441\u0442\u0430\u0442\u044c\u044f","\u0441\u0442\u0430\u0442\u044c\u0438","\u0441\u0442\u0430\u0442\u0435\u0439"][(e.length,e.length%10>=2&&e.length%10<=4&&(e.length%100<10||e.length%100>=20)?1:2)]}(a)),o.a.createElement("p",{className:"saved-news-header__keywords"},"\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c:",o.a.createElement("span",{className:"saved-news-header__keywords-bold"}," ",l))))};var S=function(e){var t=e.show,a=e.card,n=e.isLoading,r=e.isNoResult,c=e.loggedIn,i=e.onRemoveCard;return o.a.createElement(o.a.Fragment,null,o.a.createElement(j,{card:a,loggedIn:c}),o.a.createElement(w,{isNewsCard:!1,show:t,cards:a,isLoading:n,isNoResult:r,loggedIn:c,onRemoveCard:i}))};var y=function(e){var t=e.name,a=e.title,n=e.submitButtonText,r=e.isOpen,c=e.onClose,i=e.onSubmit,s=e.children,l=e.changeFormText,u=e.onChangePopup,m=e.isSuccessPopup,p=e.isFormValid,d=e.authError;return o.a.createElement("div",{className:"popup-with-form popup-with-form_type_".concat(t," ").concat(r&&"popup-with-form_opened"),onClick:function(e){e.target.classList.contains("popup-with-form_opened")&&c()}},o.a.createElement("div",{className:"popup-with-form__container popup-with-form__container_type_".concat(t)},o.a.createElement("button",{type:"button",className:"popup-with-form__close-button",onClick:c}),o.a.createElement("form",{className:"popup-with-form__forms",onSubmit:function(e){e.preventDefault(),i()}},o.a.createElement("h2",{className:"popup-with-form__heading"},a),s,o.a.createElement("div",{className:"popup-with-form__handlers"},m?o.a.createElement("p",{className:"popup-with-form__change-form popup-with-form__change-form_link",onClick:u},l):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"popup-with-form__submit-button-error"},d),o.a.createElement("button",{type:"submit",className:p?"popup-with-form__submit-button":"popup-with-form__submit-button popup-with-form__submit-button_disabled"},n),o.a.createElement("p",{className:"popup-with-form__change-form"},"\u0438\u043b\u0438 ",o.a.createElement("span",{className:"popup-with-form__change-form popup-with-form__change-form_link",onClick:u},l)))))))};var I=function(e){var t=e.isOpen,a=e.onClose,n=e.onChangePopup,r=e.onLogin,c=e.authError,i=e.disabled,s=m(),l=m();return o.a.createElement(y,{name:"login-popup",title:"\u0412\u0445\u043e\u0434",submitButtonText:"\u0412\u043e\u0439\u0442\u0438",isOpen:t,onClose:a,onSubmit:function(){r(s.value,l.value)},changeFormText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onChangePopup:n,isFormValid:s.isValid&&l.isValid,authError:c},o.a.createElement("span",{className:"popup-with-form__input_heading"},"Email"),o.a.createElement("input",{type:"email",className:"popup-with-form__input popup-with-form__input_email",id:"login-email-input",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",minLength:"2",maxLength:"30",required:!0,disabled:i,value:s.value,onChange:s.onChange}),o.a.createElement("span",{id:"login-email-input-error",className:"popup-with-form__input_error"},s.errorMessage),o.a.createElement("span",{className:"popup-with-form__input_heading"},"\u041f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("input",{type:"password",className:"popup-with-form__input popup-with-form__input_pasword",id:"login-password-input",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",minLength:"2",maxLength:"30",required:!0,disabled:i,value:l.value,onChange:l.onChange}),o.a.createElement("span",{id:"login-password-input-error",className:"popup-with-form__input_error"},l.errorMessage))};var x=function(e){var t=e.isOpen,a=e.onClose,n=e.onChangePopup,r=e.onRegister,c=e.authError,i=e.disabled,s=m(),l=m(),u=m();return o.a.createElement(y,{name:"register-popup",title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",submitButtonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",isOpen:t,onClose:a,onSubmit:function(){r(s.value,l.value,u.value)},changeFormText:"\u0412\u043e\u0439\u0442\u0438",onChangePopup:n,isFormValid:s.isValid&&l.isValid&&u.isValid,authError:c},o.a.createElement("span",{className:"popup-with-form__input_heading"},"Email"),o.a.createElement("input",{type:"email",className:"popup-with-form__input popup-with-form__input_email",id:"register-email-input",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",minLength:"2",maxLength:"30",required:!0,disabled:i,value:s.value,onChange:s.onChange}),o.a.createElement("span",{id:"register-email-input-error",className:"popup-with-form__input_error"},s.errorMessage),o.a.createElement("span",{className:"popup-with-form__input_heading"},"\u041f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("input",{type:"password",className:"popup-with-form__input popup-with-form__input_pasword",id:"register-password-input",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",minLength:"8",maxLength:"30",required:!0,disabled:i,value:l.value,onChange:l.onChange}),o.a.createElement("span",{id:"register-password-input-error",className:"popup-with-form__input_error"},l.errorMessage),o.a.createElement("span",{className:"popup-with-form__input_heading"},"\u0418\u043c\u044f"),o.a.createElement("input",{type:"text",className:"popup-with-form__input popup-with-form__input_name",id:"register-name-input",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0451 \u0438\u043c\u044f",minLength:"2",maxLength:"40",pattern:"[A-Za-z\u0430-\u044f\u0451\u0410-\u042f\u0401 -]{1,}",required:!0,disabled:i,value:u.value,onChange:u.onChange}),o.a.createElement("span",{id:"register-name-input-error",className:"popup-with-form__input_error"},u.errorMessage))};var A=function(e){var t=e.isOpen,a=e.onClose,n=e.onChangePopup;return o.a.createElement(y,{name:"register-success-popup",title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!",isOpen:t,onClose:a,changeFormText:"\u0412\u043e\u0439\u0442\u0438",onChangePopup:n,isSuccessPopup:!0})},L=a(30),F=function(e){var t=e.component,a=Object(L.a)(e,["component"]);return o.a.createElement(u.b,null,(function(){return!0===a.loggedIn?o.a.createElement(t,a):o.a.createElement(u.a,{to:"./"})}))},R=a(16),T=a.n(R),M=a(25),P=a.n(M);var B=function(e){var t=e.loggedIn,a=e.onSignOut,n=e.onAuthClick,r=e.isMobileOpen,c=o.a.useContext(O),s=Object(u.h)().pathname,l="".concat(t?"".concat(c.name):"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),m="".concat("/"===s?T.a:P.a),p="".concat(r?T.a:m),d="".concat("/"===s&&"navigation__link_active-white"),h="".concat("/saved-news"===s&&"navigation__link_active-black"),g="".concat("/"===s?"navigation__link":"navigation__link navigation__link_black"),_="".concat("/"===s?"navigation__logout-button":"navigation__logout-button navigation__logout-button_black"),f="".concat("/"===s?"navigation__auth-container":"navigation__auth-container navigation__auth-container_black"),w="".concat(r?"navigation-mobile":"navigation");return o.a.createElement("nav",{className:w},o.a.createElement(i.b,{to:"/",className:"".concat(g," ").concat(d)},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(i.b,{to:"/saved-news",className:"".concat(g," ").concat(h)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438")),o.a.createElement("div",{className:f,onClick:t?a:n},o.a.createElement("p",{className:_},l),t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:"navigation__logout-icon",src:p,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430"}))))},q=a(26),V=a.n(q),D=a(27),J=a.n(D),K=a(17),z=a.n(K);var G=function(e){var t=e.loggedIn,a=e.onSignOut,n=e.onAuthClick,r=e.onBurgerButtonClick,c=e.isMobileOpen,s=e.isLogin,l=e.isRegister,m=e.isSuccess,p=e.onClose,d=Object(u.h)().pathname,h="".concat("/"===d?"header":"header header_black"),g="".concat(c?"header":h),_="".concat("/"===d?"header__logo":"header__logo header__logo_black"),f="".concat(c?"header__logo":_),w="".concat("/"===d?V.a:J.a),E="".concat(c?z.a:w),b="".concat(s||l||m?z.a:E);return o.a.createElement("header",{className:g},o.a.createElement(i.b,{to:"/",className:f},"NewsExplorer"),o.a.createElement(B,{loggedIn:t,onSignOut:a,onAuthClick:n}),o.a.createElement("img",{className:"header__burger-menu-button",src:b,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u043c\u0435\u043d\u044e \u0434\u043b\u044f \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438",onClick:c||s||l||m?p:r}))};var W=function(e){var t=e.isOpen,a=e.loggedIn,n=e.onSignOut,r=e.onAuthClick,c=e.onClose;return o.a.createElement("section",{className:"mobile-navigation ".concat(t&&"mobile-navigation_opened")},o.a.createElement("div",{className:"mobile-navigation__container"},o.a.createElement(G,{isMobileOpen:t,onClose:c}),o.a.createElement(B,{loggedIn:a,onSignOut:n,onAuthClick:r,isMobileOpen:t})))},Y=a(28),Z=a.n(Y),$=a(29),H=a.n($);var Q=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Supersite, Powered by News API"),o.a.createElement("nav",{className:"footer__navigation-container"},o.a.createElement("div",{className:"footer__links-container"},o.a.createElement(i.b,{to:"/",className:"footer__links"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),o.a.createElement("a",{className:"footer__links",href:"https://praktikum.yandex.ru/",target:"_blank",rel:"noopener noreferrer"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c")),o.a.createElement("div",{className:"footer__social-icons-container"},o.a.createElement("a",{className:"footer__social-icons",href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"footer__social-icon",src:Z.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0413\u0438\u0442\u0445\u0430\u0431\u0430"})),o.a.createElement("a",{className:"footer__social-icons",href:"https://www.facebook.com/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"footer__social-icon",src:H.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0424\u0435\u0439\u0441\u0431\u0443\u043a\u0430"})))))},U="https://api.diploma.vit.students.nomoreparties.co",X=function(e){return fetch("".concat(U,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e:Promise.reject(e)})).then((function(e){if(e.ok)return e.json()})).then((function(e){return e})).catch((function(e){throw new Error(e.message)}))},ee={year:"numeric",month:"2-digit",day:"2-digit"},te=new Intl.DateTimeFormat("fr-CA",ee).format(Date.now()-6048e5),ae=new Intl.DateTimeFormat("fr-CA",ee).format(Date.now());var ne=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),i=Object(l.a)(c,2),m=i[0],p=i[1],d=Object(n.useState)([]),h=Object(l.a)(d,2),g=h[0],_=h[1],f=Object(n.useState)([]),w=Object(l.a)(f,2),E=w[0],b=w[1],v=Object(n.useState)(0),N=Object(l.a)(v,2),C=N[0],j=N[1],y=Object(n.useState)(!1),L=Object(l.a)(y,2),R=L[0],T=L[1],M=Object(n.useState)(!1),P=Object(l.a)(M,2),B=P[0],q=P[1],V=Object(n.useState)(!1),D=Object(l.a)(V,2),J=D[0],K=D[1],z=Object(n.useState)(!1),Y=Object(l.a)(z,2),Z=Y[0],$=Y[1],H=Object(n.useState)(!1),ee=Object(l.a)(H,2),ne=ee[0],oe=ee[1],re=Object(n.useState)(!1),ce=Object(l.a)(re,2),ie=ce[0],se=ce[1],le=Object(n.useState)(!1),ue=Object(l.a)(le,2),me=ue[0],pe=ue[1],de=Object(n.useState)(!1),he=Object(l.a)(de,2),ge=he[0],_e=he[1],fe=Object(n.useState)(""),we=Object(l.a)(fe,2),Ee=we[0],be=we[1],ve=Object(n.useState)(""),Ne=Object(l.a)(ve,2),Ce=Ne[0],ke=Ne[1],Oe=Object(n.useState)(!1),je=Object(l.a)(Oe,2),Se=je[0],ye=je[1],Ie=Object(n.useState)(!1),xe=Object(l.a)(Ie,2),Ae=xe[0],Le=xe[1],Fe=Object(u.g)(),Re=Object(u.h)().pathname;function Te(e){(function(e){return fetch("".concat(U,"/articles"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){if(e.ok)return e.json()})).then((function(e){return e})).catch((function(e){throw new Error(e.message)}))})(e).then((function(e){b(e),0===e.length?_e(!1):_e(!0)})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a: ".concat(e))}))}o.a.useEffect((function(){localStorage.getItem("jwt")&&Te(localStorage.getItem("jwt"))}),[Re]),o.a.useEffect((function(){if(localStorage.getItem("searchNews")){var e=localStorage.getItem("searchNews"),t=JSON.parse(e),a=localStorage.getItem("keyword");_(t),pe(!0),be(a)}}),[]),o.a.useEffect((function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");X(e).then((function(e){r(!0),p(e.data),Fe.push("/")})).catch((function(e){return console.log(e)}))}}),[Fe]),o.a.useEffect((function(){a||"/saved-news"!==Re||Ve()}));var Me=Object(n.useCallback)((function(e){"Escape"===e.key&&Je()}),[]);function Pe(e){var t,a,n=localStorage.getItem("jwt");(t=e._id,a=n,fetch("".concat(U,"/articles/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){if(e.ok)return e.json()})).then((function(e){return e})).catch((function(e){throw new Error(e.message)}))).then((function(e){if(e){var t=E.filter((function(t){return t._id===E._id?!e:t}));b(t),Te(n)}})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))}function Be(){r(!1),localStorage.removeItem("jwt"),localStorage.removeItem("searchNews"),localStorage.removeItem("keyword"),pe(!1),Fe.push("/")}function qe(e){"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"===e.target.textContent?(Je(),De()):(Je(),Ve())}function Ve(){T(!0),Z&&$(!1),document.addEventListener("keyup",Me)}function De(){q(!0),document.addEventListener("keyup",Me)}function Je(){T(!1),q(!1),K(!1),$(!1),document.removeEventListener("keyup",Me),ke("")}return o.a.createElement(O.Provider,{value:m},o.a.createElement("div",{className:"app"},o.a.createElement(G,{isLogin:R,isRegister:B,isSuccess:J,loggedIn:a,onSignOut:Be,onAuthClick:Ve,onBurgerButtonClick:function(){$(!0)}}),o.a.createElement(u.d,null,o.a.createElement(F,{path:"/saved-news",loggedIn:a,component:S,show:ge,card:E,isLoading:!1,isNoResult:!1,onRemoveCard:Pe}),o.a.createElement(u.b,{path:"/"},o.a.createElement(k,{loggedIn:a,news:g,card:E,show:me,onSearchForm:function(e){var t;oe(!0),pe(!0),j(0),be(e),localStorage.setItem("keyword",e),(t=e,fetch("".concat("http://newsapi.org","/v2/everything?")+"q=".concat(t,"&")+"from=".concat(te,"&")+"to=".concat(ae,"&")+"pageSize=100&"+"apiKey=".concat("9a85e58bf1d64dcab6f8e933010a49cc")).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).then((function(e){return e})).catch((function(e){throw new Error(e.message)}))).then((function(e){0===e.totalResults?se(!0):(se(!1),_(e.articles),localStorage.setItem("searchNews",JSON.stringify(e.articles)))})).catch((function(e){e&&(console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e)),ye(!0))})).finally((function(){return oe(!1)}))},onShowMore:function(){j(C+1)},currentRow:C,isLoading:ne,isNoResult:ie,onAddCard:function(e){var t=E.find((function(t){return t.title===e.title})),a=localStorage.getItem("jwt");t?Pe(t):function(e,t){return fetch("".concat(U,"/articles"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({keyword:e.keyword,title:e.title,text:e.text,date:e.date,source:e.source,link:e.link,image:e.image})}).then((function(e){return e.json()})).catch((function(e){throw new Error(e.message)}))}(e,a).then((function(e){b([].concat(Object(s.a)(E),[e])),Te(a)})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))},onRemoveCard:Pe,onAuthClick:De,searchKeyword:Ee,searchError:Se}))),o.a.createElement(Q,null),o.a.createElement(I,{isOpen:R,onClose:Je,onChangePopup:qe,onLogin:function(e,t){Le(!0),function(e,t){return fetch("".concat(U,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok?e:Promise.reject(e)})).then((function(e){if(e.ok)return e.json()})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e})).catch((function(e){if(400===e.status)throw new Error("\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439");if(401===e.status)throw new Error("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}))}(e,t).then((function(e){e.token&&X(e.token).then((function(e){p(e.data),r(!0),Je()})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))})).catch((function(e){ke(e.message)})).finally((function(){return Le(!1)}))},authError:Ce,disabled:Ae}),o.a.createElement(x,{isOpen:B,onClose:Je,onChangePopup:qe,onRegister:function(e,t,a){Le(!0),function(e,t,a){return fetch("".concat(U,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:a})}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e.error?new Error(e.error):new Error(e.message)}))})).catch((function(e){throw new Error(e.message)}))}(e,t,a).then((function(){Je(),K(!0),document.addEventListener("keyup",Me)})).catch((function(e){ke(e.message)})).finally((function(){return Le(!1)}))},authError:Ce,disabled:Ae}),o.a.createElement(A,{isOpen:J,onClose:Je,onChangePopup:qe}),o.a.createElement(W,{isOpen:Z,onClose:Je,loggedIn:a,onSignOut:Be,onAuthClick:Ve})))};a(41),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(i.a,null,o.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[31,1,2]]]);
//# sourceMappingURL=main.8e59a7c5.chunk.js.map